(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{1408:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loaded?s("div",{staticClass:"q-ma-md"},[s("h3",{staticClass:"q-ma-md"},[t._v("题号: "),s("span",{staticStyle:{color:"#C10015"}},[t._v(t._s(t.index))])]),s("div",{staticClass:"q-mt-md q-gutter-md"},[s("div",{staticClass:"desc"},[t._v(" 版权信息 ")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 item"},[t._v(" 作者 ")]),s("Input",{staticStyle:{width:"300px"},model:{value:t.problem.author,callback:function(e){t.$set(t.problem,"author",e)},expression:"problem.author"}}),s("Button",{staticClass:"q-ml-md",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.update("author",t.problem.author)}}},[t._v(" 确认修改 ")])],1),s("q-separator"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 item"},[t._v(" 来源 ")]),s("Input",{staticStyle:{width:"300px"},model:{value:t.problem.source,callback:function(e){t.$set(t.problem,"source",e)},expression:"problem.source"}}),s("Button",{staticClass:"q-ml-md",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.update("source",t.problem.source)}}},[t._v(" 确认修改 ")])],1),s("q-separator")],1),s("div",{staticClass:"desc q-mt-md"},[t._v(" 是否公开 ")]),s("div",{staticClass:"text-black q-gutter-md q-mt-sm ",staticStyle:{"font-size":"18px","margin-left":"0px"}},[s("q-radio",{attrs:{val:!1,label:"隐藏",color:"orange",dense:"",disable:""},model:{value:t.problem.is_open,callback:function(e){t.$set(t.problem,"is_open",e)},expression:"problem.is_open"}}),s("q-radio",{attrs:{val:!0,label:"公开",color:"cyan",dense:"",disable:""},model:{value:t.problem.is_open,callback:function(e){t.$set(t.problem,"is_open",e)},expression:"problem.is_open"}}),s("q-separator")],1),s("div",{staticClass:"q-mt-md q-gutter-md"},[s("div",{staticClass:"desc"},[t._v(" 题目信息 ")]),s("div",{staticClass:"text-black q-gutter-md",staticStyle:{"font-size":"18px"}},[s("q-radio",{attrs:{val:!1,label:"正常题",color:"orange",dense:""},model:{value:t.problem.is_spj,callback:function(e){t.$set(t.problem,"is_spj",e)},expression:"problem.is_spj"}}),s("q-radio",{attrs:{val:!0,label:"特判题",color:"cyan",dense:""},model:{value:t.problem.is_spj,callback:function(e){t.$set(t.problem,"is_spj",e)},expression:"problem.is_spj"}}),s("Button",{staticClass:"q-ml-md",attrs:{type:"primary",ghost:""},on:{click:t.spjUpdate}},[t._v(" 确认修改 ")])],1),t.problem.is_spj?s("div",[s("div",{staticClass:"row"},[s("Upload",{staticClass:"col-2",attrs:{action:"#","before-upload":t.before_upload,type:"drag"}},[s("Button",{staticStyle:{float:"left"},attrs:{icon:"ios-cloud-upload-outline",type:"success",size:"large",long:""}},[t._v("上传(spj.c, spj.cpp, spj.py)")])],1),""!=t.problem.spj_type?s("div",{staticClass:"q-ml-lg text-orange"},[t._v(" 后台存在特判文件 ")]):t._e()],1),t.spj_file?s("div",[t._v("\n          "+t._s(t.spj_file.name)+"\n          "),s("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"error"},on:{click:function(e){t.spj_file=null}}},[t._v(" 移除 ")])],1):t._e()]):t._e(),s("q-separator"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-2 item"},[t._v(" 题目 ")]),s("Input",{staticStyle:{width:"300px"},model:{value:t.problem.title,callback:function(e){t.$set(t.problem,"title",e)},expression:"problem.title"}}),s("Button",{staticClass:"q-ml-md",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.update("title",t.problem.title)}}},[t._v(" 确认修改 ")])],1),s("q-separator"),s("div",{staticClass:"row"},[t._m(0),s("InputNumber",{staticStyle:{width:"150px"},attrs:{max:4e4},model:{value:t.problem.time_limit,callback:function(e){t.$set(t.problem,"time_limit",e)},expression:"problem.time_limit"}}),s("Button",{staticClass:"q-ml-md",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.update("time_limit",t.problem.time_limit)}}},[t._v(" 确认修改 ")])],1),s("q-separator"),s("div",{staticClass:"row"},[t._m(1),s("InputNumber",{staticStyle:{width:"150px"},attrs:{max:2048},model:{value:t.problem.memory_limit,callback:function(e){t.$set(t.problem,"memory_limit",e)},expression:"problem.memory_limit"}}),s("Button",{staticClass:"q-ml-md",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.update("memory_limit",t.problem.memory_limit)}}},[t._v(" 确认修改 ")])],1),s("q-separator"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"item"},[t._v("背景说明")]),s("Button",{staticClass:"q-ml-md q-mt-md",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.update("background",t.problem.background)}}},[t._v(" 确认修改 ")])],1),s("mavon-editor",{ref:"bg",staticClass:"col-10",model:{value:t.problem.background,callback:function(e){t.$set(t.problem,"background",e)},expression:"problem.background"}})],1),s("q-separator"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"item"},[t._v("题面说明")]),s("Button",{staticClass:"q-ml-md q-mt-md",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.update("statement",t.problem.statement)}}},[t._v(" 确认修改 ")])],1),s("mavon-editor",{ref:"st",staticClass:"col-10",model:{value:t.problem.statement,callback:function(e){t.$set(t.problem,"statement",e)},expression:"problem.statement"}})],1),s("q-separator"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"item"},[t._v("输入说明")]),s("Button",{staticClass:"q-ml-md q-mt-md",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.update("input",t.problem.input)}}},[t._v(" 确认修改 ")])],1),s("mavon-editor",{ref:"input",staticClass:"col-10",model:{value:t.problem.input,callback:function(e){t.$set(t.problem,"input",e)},expression:"problem.input"}})],1),s("q-separator"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"item"},[t._v("输出说明")]),s("Button",{staticClass:"q-ml-md q-mt-md",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.update("output",t.problem.output)}}},[t._v(" 确认修改 ")])],1),s("mavon-editor",{ref:"output",staticClass:"col-10",model:{value:t.problem.output,callback:function(e){t.$set(t.problem,"output",e)},expression:"problem.output"}})],1),s("q-separator"),s("div",{staticClass:"row"},[s("div",{staticClass:"col-2"},[s("div",{staticClass:"item"},[t._v("提示")]),s("Button",{staticClass:"q-ml-md q-mt-md",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.update("hint",t.problem.hint)}}},[t._v(" 确认修改 ")])],1),s("mavon-editor",{ref:"hint",staticClass:"col-10",model:{value:t.problem.hint,callback:function(e){t.$set(t.problem,"hint",e)},expression:"problem.hint"}})],1),s("q-separator")],1),s("div",{staticClass:"q-mt-md q-gutter-md"},[s("div",{staticClass:"desc"},[t._v(" 输入输出样例 ")]),t._l(t.examples_in,(function(e,a){return s("div",{key:a,staticClass:"q-mt-md row text-black"},[s("div",{staticClass:"col-5"},[s("div",[t._v("输入样例"+t._s(a+1))]),s("div",[s("Input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:4,placeholder:"Enter something..."},model:{value:t.examples_in[a],callback:function(e){t.$set(t.examples_in,a,e)},expression:"examples_in[idx]"}})],1)]),s("div",{staticClass:"col-5"},[s("div",[t._v("输出样例"+t._s(a+1))]),s("div",[s("Input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:4,placeholder:"Enter something..."},model:{value:t.examples_out[a],callback:function(e){t.$set(t.examples_out,a,e)},expression:"examples_out[idx]"}})],1)])])})),s("div",[s("Button",{attrs:{size:"large",type:"success"},on:{click:t.addExample}},[t._v(" 增加样例 ")]),s("Button",{staticClass:"q-ml-md",attrs:{size:"large",type:"error"},on:{click:t.removeExample}},[t._v(" 减少样例 ")]),s("Button",{staticClass:"q-ml-md",attrs:{size:"large",type:"primary",ghost:""},on:{click:function(e){t.updateKeys(["examples_in","examples_out"],[JSON.stringify(t.examples_in),JSON.stringify(t.examples_out)])}}},[t._v(" 确认修改 ")])],1)],2),s("q-separator",{staticClass:"q-mt-md"})],1):t._e()])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-2 item"},[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("时间限制(MS) ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-2 item"},[s("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("空间限制(MB) ")])}],l=(s("7f7f"),{name:"ProblemInfo",data:function(){return{problem:null,loaded:!1,index:"",spj_file:null,examples_in:[],examples_out:[]}},methods:{before_upload:function(t){return this.spj_file=t,!1},addExample:function(){this.examples_in.push(""),this.examples_out.push("")},removeExample:function(){this.examples_in.length>0&&(this.examples_in.pop(),this.examples_out.pop())},spjUpdate:function(){var t=this;if(this.problem.is_spj){if(null==this.spj_file)return void this.$notify("error","特判文件不能为空");var e=this.spj_file.name,s="";if("spj.c"==e)s="C";else if("spj.cpp"==e)s="C++";else{if("spj.py"!=e)return void this.$notify("error","特判文件名或类型不对");s="Python3"}var a=new FormData;a.set("index",this.index),a.set("spj_type",s),a.set("spj_file",this.spj_file),this.$req.post("addSpjFile",a).then((function(e){void 0==e.errno&&(t.spj_file=null,t.problem.spj_type=s)}))}else{this.problem.spj_type="",this.spj_file=null;var i={spj_type:"",is_spj:!1};this.toUpdate(i)}},updateKeys:function(t,e){var s={};t.forEach((function(t,a){s[t]=e[a]})),this.toUpdate(s)},update:function(t,e){var s={};s[t]=e,this.toUpdate(s)},toUpdate:function(t){var e=this,s=new FormData;s.set("json",JSON.stringify(t)),s.set("index",this.index),this.$req.post("updateProblemByJson",s).then((function(t){void 0==t.errno&&e.$notify("success","修改成功")}))}},mounted:function(){var t=this;this.index=this.$route.params.index,void 0==this.index&&(this.$notify("error","错误的题号"),this.$router.push({name:"admin"})),setTimeout((function(){t.$req.get("getProblemAllInfo",{index:t.index}).then((function(e){void 0==e.errno&&(t.problem=e.problem,t.problem.examples_in&&(t.examples_in=JSON.parse(t.problem.examples_in)),t.problem.examples_out&&(t.examples_out=JSON.parse(t.problem.examples_out)),t.loaded=!0)}))}))}}),o=l,r=(s("8eae"),s("4023")),n=s("eb85"),p=s("3786"),c=s("b2a3"),m=s.n(c),u=Object(r["a"])(o,a,i,!1,null,"60f724b9",null);e["default"]=u.exports;m()(u,"components",{QSeparator:n["a"],QRadio:p["a"]})},"8eae":function(t,e,s){"use strict";var a=s("9d68"),i=s.n(a);i.a},"9d68":function(t,e,s){}}]);