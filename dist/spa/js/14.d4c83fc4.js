(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"70c4":function(t,e,s){"use strict";var a=s("b72e"),n=s.n(a);n.a},aebb:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-pa-md text-black"},[s("div",{staticClass:"text-h4"},[t._v("创建比赛")]),s("div",{staticClass:"q-mt-lg"},[s("div",{staticClass:"desc"},[t._v(" 是否创建公开赛 ")]),s("div",{staticClass:"q-gutter-md q-mt-sm"},[s("q-radio",{attrs:{val:!1,label:"不公开",color:"Orange",dense:""},model:{value:t.contest.is_public,callback:function(e){t.$set(t.contest,"is_public",e)},expression:"contest.is_public"}}),s("q-radio",{attrs:{val:!0,label:"公开",color:"cyan",dense:""},model:{value:t.contest.is_public,callback:function(e){t.$set(t.contest,"is_public",e)},expression:"contest.is_public"}})],1),t.contest.is_public?t._e():s("div",{staticClass:"row q-mt-md"},[t._m(0),s("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入比赛密码",type:"password",password:""},model:{value:t.contest.password,callback:function(e){t.$set(t.contest,"password",e)},expression:"contest.password"}})],1),s("q-separator",{staticClass:"q-mt-md"})],1),s("div",{staticClass:"desc q-mt-md"},[t._v(" 赛制 ")]),s("div",{staticClass:"q-gutter-md q-mt-sm"},[s("q-radio",{attrs:{val:"OI",label:"OI",color:"Orange",dense:""},model:{value:t.contest.format,callback:function(e){t.$set(t.contest,"format",e)},expression:"contest.format"}}),s("q-radio",{attrs:{val:"ACM",label:"ACM",color:"cyan",dense:""},model:{value:t.contest.format,callback:function(e){t.$set(t.contest,"format",e)},expression:"contest.format"}})],1),s("q-separator",{staticClass:"q-mt-md"}),s("div",{staticClass:"desc q-mt-md"},[t._v(" 比赛信息 ")]),s("div",{staticClass:"row q-mt-md"},[t._m(1),s("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入作者"},model:{value:t.contest.author,callback:function(e){t.$set(t.contest,"author",e)},expression:"contest.author"}})],1),s("q-separator",{staticClass:"q-mt-md"}),s("div",{staticClass:"row q-mt-md"},[t._m(2),s("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入标题"},model:{value:t.contest.title,callback:function(e){t.$set(t.contest,"title",e)},expression:"contest.title"}})],1),s("q-separator",{staticClass:"q-mt-md"}),s("div",{staticClass:"row q-mt-md"},[t._m(3),s("Input",{staticStyle:{width:"600px"},attrs:{type:"textarea",placeholder:"输入比赛描述",autosize:{minRows:4,maxRows:6}},model:{value:t.contest.desc,callback:function(e){t.$set(t.contest,"desc",e)},expression:"contest.desc"}})],1),s("q-separator",{staticClass:"q-mt-md"}),s("div",{staticClass:"row q-mt-md"},[t._m(4),s("DatePicker",{attrs:{value:t.contest.begin,format:"yyyy-MM-dd HH:mm:ss",type:"datetime"},on:{"on-change":t.beginChange}})],1),s("div",{staticClass:"row q-mt-md"},[t._m(5),s("DatePicker",{attrs:{value:t.contest.end,format:"yyyy-MM-dd HH:mm:ss",type:"datetime"},on:{"on-change":t.endChange}})],1),s("q-separator",{staticClass:"q-mt-md"}),s("Button",{staticClass:"q-mt-md ",attrs:{type:"primary",size:"large"},on:{click:t.submit}},[t._v(" 提交 ")])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-2"},[s("span",{staticStyle:{color:"red"}},[t._v("*")]),s("strong",[t._v("比赛密码")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-2"},[s("span",{staticStyle:{color:"red"}},[t._v("*")]),s("strong",[t._v("作者")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-2"},[s("span",{staticStyle:{color:"red"}},[t._v("*")]),s("strong",[t._v("比赛标题")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-2"},[s("strong",[t._v("比赛描述")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-2"},[s("span",{staticStyle:{color:"red"}},[t._v("*")]),s("strong",[t._v("开始时间")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-2"},[s("span",{staticStyle:{color:"red"}},[t._v("*")]),s("strong",[t._v("结束时间")])])}],c={name:"newContest",data:function(){return{contest:{is_public:!1,password:"",format:"OI",title:"",author:"super_admin",desc:"",begin:"",end:"",status:"Pending"}}},methods:{beginChange:function(t){this.contest.begin=new Date(t)},endChange:function(t){this.contest.end=new Date(t)},seTimetDefault:function(){var t=new Date;t.setDate(t.getDate()+1),this.contest.begin=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.contest.end=new Date(this.contest.begin),this.contest.end.setHours(this.contest.end.getHours()+5)},validate:function(){if(0==this.contest.is_public&&""==this.contest.password)return"密码不能为空";if(""==this.contest.author)return"作者不能为空";if(""==this.contest.title)return"标题不能为空";var t=new Date;return this.contest.begin<=t?"考试开始时间必须大于当前时间":this.contest.end<=this.contest.begin?"考试结束时间必须晚于当前时间":""},submit:function(){var t=this,e=this.validate();if(e)this.$notify("error",e);else{var s=new FormData;s.set("contest",JSON.stringify(this.contest)),this.$req.post("newContest",s).then((function(e){void 0==e.errno&&t.$notify("success","提交成功")}))}}},mounted:function(){this.seTimetDefault()}},o=c,i=(s("70c4"),s("4023")),r=s("3786"),l=s("eb85"),d=s("b2a3"),m=s.n(d),u=Object(i["a"])(o,a,n,!1,null,"457d1542",null);e["default"]=u.exports;m()(u,"components",{QRadio:r["a"],QSeparator:l["a"]})},b72e:function(t,e,s){}}]);